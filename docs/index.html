<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SlugUid Package Docs</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    #sidebar {
      min-width: 250px;
      max-width: 250px;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      background: #1e293b;
      color: #fff;
      overflow-y: auto;
      padding: 1rem;
    }

    #sidebar h2 {
      text-align: center;
      margin-bottom: 1rem;
    }

    #sidebar a {
      color: #cbd5e1;
      text-decoration: none;
      display: block;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
    }

    #sidebar a.active {
      color: #fff;
      font-weight: bold;
      background: #334155;
    }

    #sidebar .submenu a {
      padding-left: 1.5rem;
    }

    #content {
      margin-left: 260px;
      padding: 2rem;
      background: #f8fafc;
      min-height: 100vh;
    }

    pre {
      background: #e2e8f0;
      padding: 1rem;
      border-radius: 6px;
      overflow-x: auto;
    }
  </style>
</head>

<body data-bs-spy="scroll" data-bs-target="#sidebar" data-bs-offset="100" tabindex="0">
  <!-- Sidebar -->
  <nav id="sidebar">
    <h2>SlugUid Docs</h2>
    <input type="text" id="search" class="form-control mb-2" placeholder="Search...">
    <ul class="list-unstyled" id="menu">
      <li><a href="#requirements">Requirements</a></li>
      <li><a href="#installation">Installation</a></li>
      <li>
        <a class="collapse-toggle" data-bs-toggle="collapse" href="#configCollapse" role="button" aria-expanded="false"
          aria-controls="configCollapse">Configuration &#x25BC;</a>
        <ul class="collapse submenu list-unstyled" id="configCollapse">
          <li><a href="#config-slug">Slug Settings</a></li>
          <li><a href="#config-uid">UID Settings</a></li>
          <li><a href="#config-sequence">Sequence Settings</a></li>
        </ul>
      </li>
      <li><a href="#usage">Usage</a></li>
      <li><a href="#examples">Examples</a></li>
      <li><a href="#facade">Facade</a></li>
      <li><a href="#traits">Traits</a></li>
      <li><a href="#artisan-commands">Artisan Commands</a></li>
      <li><a href="#features">Features</a></li>
    </ul>
  </nav>

  <!-- Main content -->
  <main id="content" class="position-relative">
    <section id="requirements">
      <h1>Requirements</h1>
      <ul>
        <li>PHP >= 8.0</li>
        <li>Laravel >= 9.0</li>
        <li>Composer</li>
      </ul>
    </section>

    <section id="installation" class="mt-4">
      <h1>Installation</h1>
      <pre><code>composer require areia-lab/slug-uid</code></pre>
      <pre><code>php artisan vendor:publish --provider="AreiaLab\SlugUid\SlugUidServiceProvider" --tag=sluguid-config</code></pre>
    </section>

    <section id="config-slug" class="mt-4">
      <h1>Slug Settings</h1>
      <pre><code>'slug' => [
    'separator' => '-',
    'max_length' => 150,
    'source_columns' => ['title','name'],
    'regen_on_update' => true,
]</code></pre>
    </section>

    <section id="config-uid" class="mt-4">
      <h1>UID Settings</h1>
      <pre><code>'uid' => [
    'prefix' => 'UID',
    'length' => 16,
    'driver' => 'uuid4',
]</code></pre>
    </section>

    <section id="config-sequence" class="mt-4">
      <h1>Sequence Settings</h1>
      <pre><code>'sequence' => [
    'prefix' => 'ORD',
    'padding' => 5,
    'column' => 'post_sequence',
    'scoped' => true,
]</code></pre>
    </section>

    <section id="usage" class="mt-4">
      <h1>Basic Usage</h1>
      <p>Use Facade or Trait to auto-generate slug, uid, and sequence.</p>
      <pre><code>
// Generate slug
SlugUid::slug('Hello World');

// Unique slug for model
SlugUid::uniqueSlug(Post::class, 'Hello World');

// UID
SlugUid::uid();
SlugUid::uniqueUid(Post::class, 'USR');

// Sequence
SlugUid::sequence(Post::class, 'ORD', 4);
</code></pre>
    </section>

    <section id="examples" class="mt-4">
      <h1>Examples</h1>

      <h5>Generate a basic slug</h5>
      <p>Converts a string to a URL-friendly slug:</p>
      <pre><code>
return SlugUid::slug('Hello World');
// Output: hello-world
  </code></pre>

      <h5>Generate a unique slug for a model</h5>
      <p>If the slug already exists, it appends a numeric suffix:</p>
      <pre><code>
return SlugUid::uniqueSlug(Post::class, 'Hello World');
// Output: hello-world
// Output if slug exists: hello-world-1
  </code></pre>

      <h5>Generate a UID with prefix</h5>
      <p>Generates a unique identifier, optionally with a custom prefix:</p>
      <pre><code>
return SlugUid::uid('prefix');
// Output: prefix-65e1d5ff5201a7
  </code></pre>

      <h5>Generate a unique UID for a model</h5>
      <pre><code>
return SlugUid::uniqueUid(Post::class, 'prefix');
// Output: prefix-xxxxxxxxxxxxxx (unique)
  </code></pre>

      <h5>Generate a sequence number for a model</h5>
      <p>Automatically increments and formats a sequence:</p>
      <pre><code>
return SlugUid::sequence(Post::class, 'PST');
// Output: PST-0001

return SlugUid::sequence(Post::class, 'INV', 4);
// Output: INV-0001
  </code></pre>

      <h5>Generate slug, UID, and sequence from model creation</h5>
      <p>This example uses the model configuration to automatically populate columns:</p>
      <pre><code>
return Post::create([
    'title' => 'hello world',
    'slug' => SlugUid::uniqueSlug(Post::class, 'hello world'),
    'uid' => SlugUid::uniqueUid(Post::class, 'post'),
    'post_sequence' => SlugUid::sequence(Post::class),
    'description' => 'This is a test post.'
]);
  </code></pre>

      <h5>Create a model using only model configuration</h5>
      <pre><code>
return Post::create([
    'title' => 'hello world',
    'description' => 'This is a test post.'
]);
  </code></pre>

      <h5>Update model details</h5>
      <p>Updating a post's title and description:</p>
      <pre><code>
$post = Post::first();
$post->update([
    'title' => 'My First Post Updated',
    'description' => 'This is a test post desc.'
]);
return $post;
  </code></pre>
    </section>

    <section id="facade" class="mt-4">
      <h1>Facade</h1>
      <pre><code>SlugUid::slugFromModel($post);
SlugUid::uid('USR');
SlugUid::sequence($post);</code></pre>
    </section>

    <section id="traits" class="mt-4">
      <h1>Traits</h1>
      <pre><code>use HasSlugUid;
class Post extends Model {
    use HasSlugUid;
    protected $slug_column = 'slug';
    protected $uid_column = 'uid';
    protected $sequence_column = 'post_sequence';
}</code></pre>
    </section>

    <section id="artisan-commands" class="mt-4">
      <h1>Artisan Commands</h1>
      <pre><code>php artisan sluguid:regen App\Models\Post</code></pre>
    </section>

    <section id="features" class="mt-4">
      <h1>Features</h1>
      <ul>
        <li>Customizable slug sources</li>
        <li>Automatic regeneration on update</li>
        <li>Hash-based UID generators</li>
        <li>Scoped sequence numbers per model type</li>
        <li>Artisan regen command</li>
        <li>Facade + Trait support</li>
        <li>Publishable configuration</li>
      </ul>
    </section>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Sidebar search -->
  <script>
    const searchInput = document.getElementById("search");
    const menuItems = document.querySelectorAll("#menu li");

    searchInput.addEventListener("input", function () {
      const filter = this.value.toLowerCase();
      menuItems.forEach(li => {
        const text = li.innerText.toLowerCase();
        li.style.display = text.includes(filter) ? "" : "none";
      });
    });
  </script>
</body>

</html>